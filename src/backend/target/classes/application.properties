# Set the server port to 8081 to avoid conflict with the default 8080
server.port=8081

# OpenAI Configuration (Replace YOUR_API_KEY with your actual key)
openai.api.key=YOUR_API_KEY
openai.api.endpoint=https://api.openai.com/v1/chat/completions

# Resilience4j Configuration
# See: https://resilience4j.readme.io/docs/getting-started-3
resilience4j.circuitbreaker.instances.openAiCircuitBreaker.registerHealthIndicator=true
resilience4j.circuitbreaker.instances.openAiCircuitBreaker.slidingWindowType=COUNT_BASED
resilience4j.circuitbreaker.instances.openAiCircuitBreaker.slidingWindowSize=10
resilience4j.circuitbreaker.instances.openAiCircuitBreaker.minimumNumberOfCalls=5
resilience4j.circuitbreaker.instances.openAiCircuitBreaker.permittedNumberOfCallsInHalfOpenState=3
resilience4j.circuitbreaker.instances.openAiCircuitBreaker.automaticTransitionFromOpenToHalfOpenEnabled=true
resilience4j.circuitbreaker.instances.openAiCircuitBreaker.waitDurationInOpenState=5s
resilience4j.circuitbreaker.instances.openAiCircuitBreaker.failureRateThreshold=50
resilience4j.circuitbreaker.instances.openAiCircuitBreaker.eventConsumerBufferSize=10

resilience4j.retry.instances.openAiRetry.maxAttempts=3
resilience4j.retry.instances.openAiRetry.waitDuration=500ms
resilience4j.retry.instances.openAiRetry.retryExceptions=org.springframework.web.reactive.function.client.WebClientResponseException,java.util.concurrent.TimeoutException,java.io.IOException
resilience4j.retry.instances.openAiRetry.ignoreExceptions= # Add exceptions to ignore if needed
